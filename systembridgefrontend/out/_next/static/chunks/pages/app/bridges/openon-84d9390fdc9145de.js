(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{1328:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/bridges/openon",function(){return n(9302)}])},1755:function(e,t,n){"use strict";n.d(t,{Z:function(){return Common_Layout}});var i=n(5893),a=n(7294),r=n(1163),o=n(9008),s=n.n(o),l=n(3946),c=n(8849),d=n(5317),p=n(8298),u=n(2734),h=n(2293),m=n(5582),x=n(155),y=n(6886),g=n(9417),f=n(5861),j=n(7357);function ElevationScroll(e){let{children:t}=e,n=(0,p.Z)({disableHysteresis:!0,threshold:24});return(0,a.cloneElement)(t,{elevation:n?4:0})}var Common_Header=function(){let[e,t]=(0,a.useState)(!1);(0,a.useCallback)(()=>{t(!e)},[e]);let n=(0,u.Z)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(ElevationScroll,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{color:"transparent",elevation:0,children:(0,i.jsx)(m.Z,{maxWidth:"xl",sx:{padding:0},children:(0,i.jsx)(x.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:(0,i.jsx)(y.ZP,{item:!0,children:(0,i.jsx)(g.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,i.jsx)(f.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:n.palette.primary.contrastText},children:"System Bridge"})})})})})}),(0,i.jsx)(j.Z,{sx:{height:n.spacing(18)}})]})})})};let v=!1;var Common_Layout=function(e){let t=(0,r.useRouter)();return(0,a.useEffect)(()=>{if(t.isReady&&!v){var e,n,i,a;v=!0;let r=(null===(e=t.query)||void 0===e?void 0:e.apiKey)||"",o=(null===(n=t.query)||void 0===n?void 0:n.apiPort)||"9170",s=!1;if((null===(i=t.query)||void 0===i?void 0:i.apiKey)||(s=!0,r=window.prompt("Please enter your API key",r)),(null===(a=t.query)||void 0===a?void 0:a.apiPort)||(s=!0,o=window.prompt("Please enter your API port (default: 9170)",o)),s&&r&&o){let e=t.asPath.split("?")[0];t.replace({pathname:e.includes(".html")?e:"".concat(e,".html"),query:{...t.query,apiKey:r,apiPort:o}})}}},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,i.jsx)("link",{rel:"canonical",href:e.url}),(0,i.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,i.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,i.jsx)(Common_Header,{}),e.closeButton&&(0,i.jsx)(l.Z,{size:"small",sx:{position:"absolute",top:4,right:4,zIndex:1e3},onClick:()=>{window.location.href="http://close.window"},children:(0,i.jsx)(c.Icon,{id:"close",path:d.r5M,size:1})}),e.children]})}},9302:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return openon}});var i=n(5893),a=n(7294),r=n(1163),o=n(2734),s=n(5582),l=n(6886),c=n(8456),d=n(5861),p=n(6443),u=n(699),h=n(9417),m=n(6154),x=n(4583),OpenOn=function(){let e=(0,r.useRouter)().query,[t,n]=(0,a.useState)(),[y,g]=(0,a.useState)(),[f]=(0,x.r)(),[j,v]=(0,a.useState)(!1),[w,Z]=(0,a.useState)(""),_=(0,a.useCallback)(async()=>{Z(e.url||"");let t=await m.Z.get("http://".concat((e.apiHost,window.location.hostname),":").concat(e.apiPort||9170,"/api/remote"),{headers:{"api-key":e.apiKey}});if(t&&t.status<400){let e=t.data.data.filter(e=>e.api_key);n(e),g(e[0])}},[e.apiHost,e.apiPort,e.apiKey,e.url]);async function handleOpenOn(){if(null==y?void 0:y.api_key)try{let e=await m.Z.post("http://".concat(y.host,":").concat(y.port,"/api/open"),{[w.includes("://")?"url":"path"]:w},{headers:{"api-key":y.api_key}});e&&e.status<400&&console.log(e.data)}catch(e){console.error(e)}}(0,a.useEffect)(()=>{!j&&e&&e.apiKey&&(v(!0),_())},[j,_,e]);let k=(0,o.Z)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{maxWidth:"lg",children:f||t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{component:"h2",variant:"h3",sx:{margin:k.spacing(2,1.5,6)},children:"Open Path / URL On.."}),t&&y?(0,i.jsx)(p.Z,{id:"bridge",options:t,value:y,getOptionLabel:e=>e.name,renderInput:e=>(0,i.jsx)(u.Z,{...e,label:"Bridge",variant:"outlined"}),onChange:(e,t)=>{t&&g(t)},sx:{margin:k.spacing(2,2.5),width:"calc(100% - 32px)"}}):"",(0,i.jsx)(u.Z,{fullWidth:!0,id:"url",label:"Path / URL",onChange:function(e){Z(e.target.value)},type:"url",value:w,variant:"outlined",sx:{margin:k.spacing(2,2.5),width:"calc(100% - 32px)"}}),(0,i.jsx)(h.Z,{color:"primary",disabled:!y||!w,variant:"contained",onClick:handleOpenOn,sx:{margin:k.spacing(6,2.5,2),width:"calc(100% - 32px)"},children:"Send"})]}):(0,i.jsx)(l.ZP,{container:!0,direction:"row",justifyContent:"center",sx:{margin:k.spacing(10,0,8)},children:(0,i.jsx)(c.Z,{})})})})},y=n(1755),openon=function(){return(0,i.jsx)(y.Z,{title:"Open URL On",url:"https://system-bridge.timmo.dev",description:"Frontend for System Bridge",noHeader:!0,children:(0,i.jsx)(OpenOn,{})})}}},function(e){e.O(0,[702,920,67,8,699,154,443,774,888,179],function(){return e(e.s=1328)}),_N_E=e.O()}]);