(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{8973:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/notification",function(){return i(88)}])},1755:function(e,t,i){"use strict";i.d(t,{Z:function(){return Common_Layout}});var n=i(5893),o=i(7294),r=i(1163),s=i(9008),a=i.n(s),l=i(3946),c=i(8849),d=i(5317),u=i(8298),m=i(2734),p=i(2293),h=i(5582),g=i(155),f=i(6886),y=i(9417),x=i(5861),v=i(7357);function ElevationScroll(e){let{children:t}=e,i=(0,u.Z)({disableHysteresis:!0,threshold:24});return(0,o.cloneElement)(t,{elevation:i?4:0})}var Common_Header=function(){let[e,t]=(0,o.useState)(!1);(0,o.useCallback)(()=>{t(!e)},[e]);let i=(0,m.Z)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ElevationScroll,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{color:"transparent",elevation:0,children:(0,n.jsx)(h.Z,{maxWidth:"xl",sx:{padding:0},children:(0,n.jsx)(g.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:(0,n.jsx)(f.ZP,{item:!0,children:(0,n.jsx)(y.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,n.jsx)(x.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:i.palette.primary.contrastText},children:"System Bridge"})})})})})}),(0,n.jsx)(v.Z,{sx:{height:i.spacing(18)}})]})})})};let j=!1;var Common_Layout=function(e){let t=(0,r.useRouter)();return(0,o.useEffect)(()=>{if(t.isReady&&!j){var e,i,n,o;j=!0;let r=(null===(e=t.query)||void 0===e?void 0:e.apiKey)||"",s=(null===(i=t.query)||void 0===i?void 0:i.apiPort)||"9170",a=!1;if((null===(n=t.query)||void 0===n?void 0:n.apiKey)||(a=!0,r=window.prompt("Please enter your API key",r)),(null===(o=t.query)||void 0===o?void 0:o.apiPort)||(a=!0,s=window.prompt("Please enter your API port (default: 9170)",s)),a&&r&&s){let e=t.asPath.split("?")[0];t.replace({pathname:e.includes(".html")?e:"".concat(e,".html"),query:{...t.query,apiKey:r,apiPort:s}})}}},[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,n.jsx)("link",{rel:"canonical",href:e.url}),(0,n.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,n.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,n.jsx)(Common_Header,{}),e.closeButton&&(0,n.jsx)(l.Z,{size:"small",sx:{position:"absolute",top:4,right:4,zIndex:1e3},onClick:()=>{window.location.href="http://close.window"},children:(0,n.jsx)(c.Icon,{id:"close",path:d.r5M,size:1})}),e.children]})}},88:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return notification}});var n=i(5893),o=i(7294),r=i(1163),s=i(2734),a=i(3366),l=i(7462),c=i(512),d=i(9766),u=i(4780),m=i(4867),p=i(3264),h=i(9628),g=i(9707),f=i(6500),y=i(5408),x=i(8700);let v=["component","direction","spacing","divider","children","className","useFlexGap"],j=(0,f.Z)(),Z=(0,p.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function useThemePropsDefault(e){return(0,h.Z)({props:e,name:"MuiStack",defaultTheme:j})}let getSideFromDirection=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],style=({ownerState:e,theme:t})=>{let i=(0,l.Z)({display:"flex",flexDirection:"column"},(0,y.k9)({theme:t},(0,y.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let n=(0,x.hB)(t),o=Object.keys(t.breakpoints.values).reduce((t,i)=>(("object"==typeof e.spacing&&null!=e.spacing[i]||"object"==typeof e.direction&&null!=e.direction[i])&&(t[i]=!0),t),{}),r=(0,y.P$)({values:e.direction,base:o}),s=(0,y.P$)({values:e.spacing,base:o});"object"==typeof r&&Object.keys(r).forEach((e,t,i)=>{let n=r[e];if(!n){let n=t>0?r[i[t-1]]:"column";r[e]=n}}),i=(0,d.Z)(i,(0,y.k9)({theme:t},s,(t,i)=>e.useFlexGap?{gap:(0,x.NA)(n,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${getSideFromDirection(i?r[i]:e.direction)}`]:(0,x.NA)(n,t)}}))}return(0,y.dt)(t.breakpoints,i)};var w=i(948),k=i(1657);let b=function(e={}){let{createStyledComponent:t=Z,useThemeProps:i=useThemePropsDefault,componentName:r="MuiStack"}=e,useUtilityClasses=()=>(0,u.Z)({root:["root"]},e=>(0,m.Z)(r,e),{}),s=t(style),d=o.forwardRef(function(e,t){let r=i(e),d=(0,g.Z)(r),{component:u="div",direction:m="column",spacing:p=0,divider:h,children:f,className:y,useFlexGap:x=!1}=d,j=(0,a.Z)(d,v),Z=useUtilityClasses();return(0,n.jsx)(s,(0,l.Z)({as:u,ownerState:{direction:m,spacing:p,useFlexGap:x},ref:t,className:(0,c.Z)(Z.root,y)},j,{children:h?function(e,t){let i=o.Children.toArray(e).filter(Boolean);return i.reduce((e,n,r)=>(e.push(n),r<i.length-1&&e.push(o.cloneElement(t,{key:`separator-${r}`})),e),[])}(f,h):f}))});return d}({createStyledComponent:(0,w.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,k.Z)({props:e,name:"MuiStack"})});function getCardMediaUtilityClass(e){return(0,m.Z)("MuiCardMedia",e)}(0,i(1588).Z)("MuiCardMedia",["root","media","img"]);let C=["children","className","component","image","src","style"],useUtilityClasses=e=>{let{classes:t,isMediaComponent:i,isImageComponent:n}=e;return(0,u.Z)({root:["root",i&&"media",n&&"img"]},getCardMediaUtilityClass,t)},P=(0,w.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e,{isMediaComponent:n,isImageComponent:o}=i;return[t.root,n&&t.media,o&&t.img]}})(({ownerState:e})=>(0,l.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),S=["video","audio","picture","iframe","img"],M=["picture","img"],_=o.forwardRef(function(e,t){let i=(0,k.Z)({props:e,name:"MuiCardMedia"}),{children:o,className:r,component:s="div",image:d,src:u,style:m}=i,p=(0,a.Z)(i,C),h=-1!==S.indexOf(s),g=!h&&d?(0,l.Z)({backgroundImage:`url("${d}")`},m):m,f=(0,l.Z)({},i,{component:s,isMediaComponent:h,isImageComponent:-1!==M.indexOf(s)}),y=useUtilityClasses(f);return(0,n.jsx)(P,(0,l.Z)({className:(0,c.Z)(y.root,r),as:s,role:!h&&d?"img":void 0,ref:t,style:g,ownerState:f,src:h?d||u:void 0},p,{children:o}))});var N=i(5861),R=i(9417),I=i(6154);let API=class API{async request(e){let{body:t,endpoint:i,method:n,params:o}=e,r={baseURL:"http://localhost:".concat(this.port),data:t,headers:{"api-key":this.apiKey},method:n,params:o,url:"/api/".concat(i)};return await I.Z.request(r)}constructor(e,t){this.apiKey=t,this.port=e||9170}};var E=i(1755),notification=function(){let e=(0,r.useRouter)(),{apiPort:t,apiKey:i,title:a,message:l,icon:c,image:d,actions:u}=e.query,m=(0,o.useMemo)(()=>{if(u)try{return JSON.parse(u)}catch(e){console.error(e)}return null},[u]),p=(0,s.Z)();return(0,n.jsx)(E.Z,{title:"Notification",url:"https://system-bridge.timmo.dev",description:"Frontend for System Bridge",closeButton:!0,noHeader:!0,children:(0,n.jsxs)(b,{direction:"column",alignContent:"center",justifyContent:"flex-start",style:{height:"100vh",width:"100%",overflow:"hidden"},children:[(0,n.jsxs)(b,{direction:"row",alignContent:"center",justifyContent:"flex-start",style:{padding:p.spacing(1,1,1)},children:[c&&(0,n.jsx)(_,{component:"img",image:c,alt:"Notification Icon",sx:{height:28,width:28,margin:p.spacing(.5,0,.5,1)}}),(0,n.jsx)(N.Z,{component:"h1",variant:"h5",sx:{margin:p.spacing(0,1)},children:a})]}),l&&(0,n.jsx)(N.Z,{component:"div",variant:"body2",color:"text.secondary",sx:{padding:p.spacing(0,c?7:2,1)},children:l}),d&&(0,n.jsx)(_,{component:"img",image:d,alt:"Notification Image",sx:{height:"280px",maxHeight:"280px",maxWidth:"100%",objectFit:"contain"}}),m&&(0,n.jsx)(b,{direction:"row",alignContent:"center",justifyContent:"flex-end",sx:{padding:p.spacing(1)},children:m.map(e=>(0,n.jsx)(R.Z,{variant:"contained",color:"primary",sx:{margin:p.spacing(1,.5,1,.5)},onClick:()=>(function(e){switch(console.log("Action clicked:",e),e.command){case"api":new API(Number(t)||9170,String(i)).request(e.data).then(e=>{console.log("API Response:",e.data)}).catch(e=>{console.error("API Error:",e)});break;case"close":window.location.href="http://close.window"}})(e),children:e.label},e.label))})]})})}}},function(e){e.O(0,[702,920,154,774,888,179],function(){return e(e.s=8973)}),_N_E=e.O()}]);